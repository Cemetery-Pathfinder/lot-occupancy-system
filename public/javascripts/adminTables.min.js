"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=exports.los;function t(e){const t=e.currentTarget,s=t.value;t.closest(".field").querySelectorAll(".button.is-static")[1].innerHTML=`<i class="fas fa-fw fa-${s}" aria-hidden="true"></i>`}Object.defineProperty(exports,"__esModule",{value:!0});let s=exports.workOrderTypes;function r(t){t.preventDefault(),cityssm.postJSON(e.urlPrefix+"/admin/doUpdateWorkOrderType",t.currentTarget,e=>{var t;e.success?(s=e.workOrderTypes,bulmaJS.alert({message:"Work Order Type Updated Successfully",contextualColorName:"success"})):bulmaJS.alert({title:"Error Updating Work Order Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}delete exports.workOrderTypes;const o=t=>{const r=t.currentTarget.closest("tr"),o=r.dataset.workOrderTypeId;bulmaJS.confirm({title:"Delete Work Order Type",message:"Are you sure you want to delete this work order type?<br />\n                Note that no work orders will be removed.",messageIsHtml:!0,contextualColorName:"warning",okButton:{text:"Yes, Delete Work Order Type",callbackFunction:function(){cityssm.postJSON(e.urlPrefix+"/admin/doDeleteWorkOrderType",{workOrderTypeId:o},e=>{var t;e.success?(0===(s=e.workOrderTypes).length?n():r.remove(),bulmaJS.alert({message:"Work Order Type Deleted Successfully",contextualColorName:"success"})):bulmaJS.alert({title:"Error Deleting Work Order Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}}})};function a(t){const r=t.currentTarget,o=r.closest("tr").dataset.workOrderTypeId;cityssm.postJSON(e.urlPrefix+"/admin/"+("up"===r.dataset.direction?"doMoveWorkOrderTypeUp":"doMoveWorkOrderTypeDown"),{workOrderTypeId:o,moveToEnd:t.shiftKey?"1":"0"},e=>{var t;e.success?(s=e.workOrderTypes,n()):bulmaJS.alert({title:"Error Moving Work Order Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}function n(){var t;const n=document.querySelector("#container--workOrderTypes");if(0!==s.length){n.innerHTML="";for(const l of s){const s=document.createElement("tr");s.dataset.workOrderTypeId=l.workOrderTypeId.toString(),s.innerHTML='<td><form><input name="workOrderTypeId" type="hidden" value="'+l.workOrderTypeId.toString()+'" /><div class="field has-addons"><div class="control"><input class="input" name="workOrderType" type="text" value="'+cityssm.escapeHTML(null!==(t=l.workOrderType)&&void 0!==t?t:"")+'" maxlength="100" aria-label="Work Order Type" required /></div><div class="control"><button class="button is-success" type="submit" aria-label="Save"><i class="fas fa-save" aria-hidden="true"></i></button></div></div></form></td><td class="is-nowrap"><div class="field is-grouped"><div class="control">'+e.getMoveUpDownButtonFieldHTML("button--moveWorkOrderTypeUp","button--moveWorkOrderTypeDown",!1)+'</div><div class="control"><button class="button is-danger is-light button--deleteWorkOrderType" data-tooltip="Delete Work Order Type" type="button" aria-label="Delete Work Order Type"><i class="fas fa-trash" aria-hidden="true"></i></button></div></div></td>',s.querySelector("form").addEventListener("submit",r),s.querySelector(".button--moveWorkOrderTypeUp").addEventListener("click",a),s.querySelector(".button--moveWorkOrderTypeDown").addEventListener("click",a),s.querySelector(".button--deleteWorkOrderType").addEventListener("click",o),n.append(s)}}else n.innerHTML='<tr><td colspan="2">\n                <div class="message is-warning"><p class="message-body">There are no active work order types.</p></div>\n                </td></tr>'}document.querySelector("#form--addWorkOrderType").addEventListener("submit",t=>{t.preventDefault();const r=t.currentTarget;cityssm.postJSON(e.urlPrefix+"/admin/doAddWorkOrderType",r,e=>{var t;e.success?(s=e.workOrderTypes,n(),r.reset(),r.querySelector("input").focus()):bulmaJS.alert({title:"Error Adding Work Order Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}),n(),Object.defineProperty(exports,"__esModule",{value:!0});let l=exports.workOrderMilestoneTypes;function c(t){t.preventDefault(),cityssm.postJSON(e.urlPrefix+"/admin/doUpdateWorkOrderMilestoneType",t.currentTarget,e=>{var t;e.success?(l=e.workOrderMilestoneTypes,bulmaJS.alert({message:"Work Order Milestone Type Updated Successfully",contextualColorName:"success"})):bulmaJS.alert({title:"Error Updating Work Order Milestone Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}function d(t){const s=t.currentTarget.closest("tr"),r=s.dataset.workOrderMilestoneTypeId;bulmaJS.confirm({title:"Delete Work Order Milestone Type",message:"Are you sure you want to delete this work order milestone type?<br />\n                Note that no work orders will be removed.",messageIsHtml:!0,contextualColorName:"warning",okButton:{text:"Yes, Delete Work Order Milestone Type",callbackFunction:function(){cityssm.postJSON(e.urlPrefix+"/admin/doDeleteWorkOrderMilestoneType",{workOrderMilestoneTypeId:r},e=>{var t;e.success?(0===(l=e.workOrderMilestoneTypes).length?u():s.remove(),bulmaJS.alert({message:"Work Order Milestone Type Deleted Successfully",contextualColorName:"success"})):bulmaJS.alert({title:"Error Deleting Work Order Milestone Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}}})}function i(t){const s=t.currentTarget,r=s.closest("tr").dataset.workOrderMilestoneTypeId;cityssm.postJSON(e.urlPrefix+"/admin/"+("up"===s.dataset.direction?"doMoveWorkOrderMilestoneTypeUp":"doMoveWorkOrderMilestoneTypeDown"),{workOrderMilestoneTypeId:r,moveToEnd:t.shiftKey?"1":"0"},e=>{var t;e.success?(l=e.workOrderMilestoneTypes,u()):bulmaJS.alert({title:"Error Moving Work Order Milestone Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}function u(){const t=document.querySelector("#container--workOrderMilestoneTypes");if(0!==l.length){t.innerHTML="";for(const s of l){const r=document.createElement("tr");r.dataset.workOrderMilestoneTypeId=s.workOrderMilestoneTypeId.toString(),r.innerHTML='<td><form><input name="workOrderMilestoneTypeId" type="hidden" value="'+s.workOrderMilestoneTypeId.toString()+'" /><div class="field has-addons"><div class="control"><input class="input" name="workOrderMilestoneType" type="text" value="'+cityssm.escapeHTML(s.workOrderMilestoneType)+'" maxlength="100" aria-label="Work Order Milestone Type" required /></div><div class="control"><button class="button is-success" type="submit" aria-label="Save"><i class="fas fa-save" aria-hidden="true"></i></button></div></div></form></td><td class="is-nowrap"><div class="field is-grouped"><div class="control">'+e.getMoveUpDownButtonFieldHTML("button--moveWorkOrderMilestoneTypeUp","button--moveWorkOrderMilestoneTypeDown",!1)+'</div><div class="control"><button class="button is-danger is-light button--deleteWorkOrderMilestoneType" data-tooltip="Delete Mielstone Type" type="button" aria-label="Delete Milestone Type"><i class="fas fa-trash" aria-hidden="true"></i></button></div></div></td>',r.querySelector("form").addEventListener("submit",c),r.querySelector(".button--moveWorkOrderMilestoneTypeUp").addEventListener("click",i),r.querySelector(".button--moveWorkOrderMilestoneTypeDown").addEventListener("click",i),r.querySelector(".button--deleteWorkOrderMilestoneType").addEventListener("click",d),t.append(r)}}else t.innerHTML='<tr><td colspan="2">\n                <div class="message is-warning"><p class="message-body">There are no active work order milestone types.</p></div>\n                </td></tr>'}delete exports.workOrderMilestoneTypes,document.querySelector("#form--addWorkOrderMilestoneType").addEventListener("submit",t=>{t.preventDefault();const s=t.currentTarget;cityssm.postJSON(e.urlPrefix+"/admin/doAddWorkOrderMilestoneType",s,e=>{var t;e.success?(l=e.workOrderMilestoneTypes,u(),s.reset(),s.querySelector("input").focus()):bulmaJS.alert({title:"Error Adding Work Order Milestone Type",message:null!==(t=e.errorMessage)&&void 0!==t?t:"",contextualColorName:"danger"})})}),u(),Object.defineProperty(exports,"__esModule",{value:!0});let p=exports.lotStatuses;function m(t){t.preventDefault(),cityssm.postJSON(e.urlPrefix+"/admin/doUpdateLotStatus",t.currentTarget,t=>{var s;t.success?(p=t.lotStatuses,bulmaJS.alert({message:e.escapedAliases.Lot+" Status Updated Successfully",contextualColorName:"success"})):bulmaJS.alert({title:"Error Updating "+e.escapedAliases.Lot+" Status",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function y(t){const s=t.currentTarget.closest("tr"),r=s.dataset.lotStatusId;bulmaJS.confirm({title:`Delete ${e.escapedAliases.Lot} Status`,message:`Are you sure you want to delete this status?<br />\n                Note that no ${e.escapedAliases.lot} will be removed.`,messageIsHtml:!0,contextualColorName:"warning",okButton:{text:"Yes, Delete Status",callbackFunction:function(){cityssm.postJSON(e.urlPrefix+"/admin/doDeleteLotStatus",{lotStatusId:r},t=>{var r;t.success?(0===(p=t.lotStatuses).length?T():s.remove(),bulmaJS.alert({message:e.escapedAliases.Lot+" Status Deleted Successfully",contextualColorName:"success"})):bulmaJS.alert({title:`Error Deleting ${e.escapedAliases.Lot} Status`,message:null!==(r=t.errorMessage)&&void 0!==r?r:"",contextualColorName:"danger"})})}}})}function v(t){const s=t.currentTarget,r=s.closest("tr").dataset.lotStatusId;cityssm.postJSON(e.urlPrefix+"/admin/"+("up"===s.dataset.direction?"doMoveLotStatusUp":"doMoveLotStatusDown"),{lotStatusId:r,moveToEnd:t.shiftKey?"1":"0"},t=>{var s;t.success?(p=t.lotStatuses,T()):bulmaJS.alert({title:"Error Moving "+e.escapedAliases.Lot+" Status",message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function T(){const t=document.querySelector("#container--lotStatuses");if(0!==p.length){t.innerHTML="";for(const s of p){const r=document.createElement("tr");r.dataset.lotStatusId=s.lotStatusId.toString(),r.innerHTML='<td><form><input name="lotStatusId" type="hidden" value="'+s.lotStatusId.toString()+'" /><div class="field has-addons"><div class="control"><input class="input" name="lotStatus" type="text" value="'+cityssm.escapeHTML(s.lotStatus)+'" aria-label="'+cityssm.escapeHTML(exports.aliases.lot)+' Status" maxlength="100" required /></div><div class="control"><button class="button is-success" type="submit" aria-label="Save"><i class="fas fa-save" aria-hidden="true"></i></button></div></div></form></td><td class="is-nowrap"><div class="field is-grouped"><div class="control">'+e.getMoveUpDownButtonFieldHTML("button--moveLotStatusUp","button--moveLotStatusDown",!1)+'</div><div class="control"><button class="button is-danger is-light button--deleteLotStatus" data-tooltip="Delete Status" type="button" aria-label="Delete Status"><i class="fas fa-trash" aria-hidden="true"></i></button></div></div></td>',r.querySelector("form").addEventListener("submit",m),r.querySelector(".button--moveLotStatusUp").addEventListener("click",v),r.querySelector(".button--moveLotStatusDown").addEventListener("click",v),r.querySelector(".button--deleteLotStatus").addEventListener("click",y),t.append(r)}}else t.innerHTML=`<tr><td colspan="2">\n                <div class="message is-warning"><p class="message-body">There are no active ${e.escapedAliases.lot} statuses.</p></div>\n                </td></tr>`}delete exports.lotStatuses,document.querySelector("#form--addLotStatus").addEventListener("submit",t=>{t.preventDefault();const s=t.currentTarget;cityssm.postJSON(e.urlPrefix+"/admin/doAddLotStatus",s,t=>{var r;t.success?(p=t.lotStatuses,T(),s.reset(),s.querySelector("input").focus()):bulmaJS.alert({title:`Error Adding ${e.escapedAliases.Lot} Status`,message:null!==(r=t.errorMessage)&&void 0!==r?r:"",contextualColorName:"danger"})})}),T(),Object.defineProperty(exports,"__esModule",{value:!0});let g=exports.lotOccupantTypes;function f(t){t.preventDefault(),cityssm.postJSON(e.urlPrefix+"/admin/doUpdateLotOccupantType",t.currentTarget,t=>{var s;t.success?(g=t.lotOccupantTypes,bulmaJS.alert({message:`${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type Updated Successfully`,contextualColorName:"success"})):bulmaJS.alert({title:`Error Updating ${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type`,message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function O(t){const s=t.currentTarget.closest("tr"),r=s.dataset.lotOccupantTypeId;bulmaJS.confirm({title:`Delete ${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type`,message:`Are you sure you want to delete this ${e.escapedAliases.lot} ${e.escapedAliases.occupant} type?<br />\n                Note that no ${e.escapedAliases.lot} ${e.escapedAliases.occupants} will be removed.`,messageIsHtml:!0,contextualColorName:"warning",okButton:{text:`Yes, Delete ${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type`,callbackFunction:function(){cityssm.postJSON(e.urlPrefix+"/admin/doDeleteLotOccupantType",{lotOccupantTypeId:r},t=>{var r;t.success?(0===(g=t.lotOccupantTypes).length?b():s.remove(),bulmaJS.alert({message:`${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type Deleted Successfully`,contextualColorName:"success"})):bulmaJS.alert({title:`Error Deleting ${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type`,message:null!==(r=t.errorMessage)&&void 0!==r?r:"",contextualColorName:"danger"})})}}})}function S(t){const s=t.currentTarget,r=s.closest("tr").dataset.lotOccupantTypeId;cityssm.postJSON(e.urlPrefix+"/admin/"+("up"===s.dataset.direction?"doMoveLotOccupantTypeUp":"doMoveLotOccupantTypeDown"),{lotOccupantTypeId:r,moveToEnd:t.shiftKey?"1":"0"},t=>{var s;t.success?(g=t.lotOccupantTypes,b()):bulmaJS.alert({title:`Error Moving ${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type`,message:null!==(s=t.errorMessage)&&void 0!==s?s:"",contextualColorName:"danger"})})}function b(){const s=document.querySelector("#container--lotOccupantTypes");if(0!==g.length){s.innerHTML="";for(const r of g){const o=document.createElement("tr");o.dataset.lotOccupantTypeId=r.lotOccupantTypeId.toString();const a="form--lotOccupantType-"+r.lotOccupantTypeId.toString();o.innerHTML='<td><div class="field"><div class="control"><input class="input" name="lotOccupantType" type="text" value="'+cityssm.escapeHTML(r.lotOccupantType)+'" form="'+a+'" aria-label="'+e.escapedAliases.Lot+" "+e.escapedAliases.Occupant+' Type" maxlength="100" required /></div></div></td><td><div class="field has-addons"><div class="control"><span class="button is-static">fa-</span></div><div class="control"><input class="input" name="fontAwesomeIconClass" type="text" value="'+cityssm.escapeHTML(r.fontAwesomeIconClass)+'" form="'+a+'" list="datalist--fontAwesomeIconClass" aria-label="Icon Name" maxlength="50" /></div><div class="control"><span class="button is-static"><i class="fas fa-fw fa-'+cityssm.escapeHTML(r.fontAwesomeIconClass)+'"></i></span></div></div></td><td><div class="field"><div class="control"><input class="input" name="occupantCommentTitle" type="text" value="'+cityssm.escapeHTML(r.occupantCommentTitle)+'" form="'+a+'" aria-label="'+e.escapedAliases.Occupant+' Comment Title" maxlength="50" /></div></div></td><td><form id="'+a+'"><input name="lotOccupantTypeId" type="hidden" value="'+r.lotOccupantTypeId.toString()+'" /><button class="button is-success" type="submit" aria-label="Save"><i class="fas fa-save" aria-hidden="true"></i></button></form></td><td class="is-nowrap"><div class="field is-grouped"><div class="control">'+e.getMoveUpDownButtonFieldHTML("button--moveLotOccupantTypeUp","button--moveLotOccupantTypeDown",!1)+'</div><div class="control"><button class="button is-danger is-light button--deleteLotOccupantType" data-tooltip="Delete '+e.escapedAliases.Lot+" "+e.escapedAliases.Occupant+' Type" type="button" aria-label="Delete '+e.escapedAliases.Lot+" "+e.escapedAliases.Occupant+' Type"><i class="fas fa-trash" aria-hidden="true"></i></button></div></div></td>';const n=o.querySelector("input[name='fontAwesomeIconClass']");n.addEventListener("keyup",t),n.addEventListener("change",t),o.querySelector("form").addEventListener("submit",f),o.querySelector(".button--moveLotOccupantTypeUp").addEventListener("click",S),o.querySelector(".button--moveLotOccupantTypeDown").addEventListener("click",S),o.querySelector(".button--deleteLotOccupantType").addEventListener("click",O),s.append(o)}}else s.innerHTML=`<tr><td colspan="3">\n          <div class="message is-warning">\n          <p class="message-body">There are no active ${e.escapedAliases.lot} ${e.escapedAliases.occupant} types.</p>\n          </div>\n          </td></tr>`}delete exports.lotOccupantTypes,document.querySelector("#form--addLotOccupantType").addEventListener("submit",t=>{t.preventDefault();const s=t.currentTarget;cityssm.postJSON(e.urlPrefix+"/admin/doAddLotOccupantType",s,t=>{var r;t.success?(g=t.lotOccupantTypes,b(),s.reset(),s.querySelector("input").focus()):bulmaJS.alert({title:`Error Adding ${e.escapedAliases.Lot} ${e.escapedAliases.Occupant} Type`,message:null!==(r=t.errorMessage)&&void 0!==r?r:"",contextualColorName:"danger"})})}),b()})();